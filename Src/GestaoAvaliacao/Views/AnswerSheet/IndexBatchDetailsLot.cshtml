@using GestaoAvaliacao.Util;
<script>

    var IndexBatchDetailsEnumBatchSituationByte = {
        Error: '@((Byte)EnumBatchSituation.Error)',
        NotIdentified: '@((Byte)EnumBatchSituation.NotIdentified)',
        Pending: '@((Byte)EnumBatchSituation.Pending)',
        PendingIdentification: '@((Byte)EnumBatchSituation.PendingIdentification)',
        Success: '@((Byte)EnumBatchSituation.Success)',
        Warning: '@((Byte)EnumBatchSituation.Warning)',
        Absent: '@((Byte)EnumBatchSituation.Absent)'
    };

    var IndexBatchDetailsEnumBatchSituationLabel = {
        Error: '@(EnumBatchSituation.Error.ToString())',
        NotIdentified: '@(EnumBatchSituation.NotIdentified.ToString())',
        Pending: '@(EnumBatchSituation.Pending.ToString())',
        PendingIdentification: '@(EnumBatchSituation.PendingIdentification.ToString())',
        Success: '@(EnumBatchSituation.Success.ToString())',
        Warning: '@(EnumBatchSituation.Warning.ToString())',
        Absent: '@(EnumBatchSituation.Absent.ToString())'
    };

    var IndexBatchDetailsEnumBatchSituationDescription = {
        Error: '@Html.Raw(EnumBatchSituation.Error.GetDescription())',
        NotIdentified: '@Html.Raw(EnumBatchSituation.NotIdentified.GetDescription())',
        Pending: '@Html.Raw(EnumBatchSituation.Pending.GetDescription())',
        PendingIdentification: '@Html.Raw(EnumBatchSituation.PendingIdentification.GetDescription())',
        Success: '@Html.Raw(EnumBatchSituation.Success.GetDescription())',
        Warning: '@Html.Raw(EnumBatchSituation.Warning.GetDescription())',
        Absent: '@Html.Raw(EnumBatchSituation.Absent.GetDescription())'
    };

    var IndexBatchDetailsEnumBatchProcessingByte = {
        Failure: '@((Byte)EnumBatchProcessing.Pending)',
        Initiate: '@((Byte)EnumBatchProcessing.Initiate)',
        Pending: '@((Byte)EnumBatchProcessing.Pending)',
        Processing: '@((Byte)EnumBatchProcessing.Processing)',
        Retry: '@((Byte)EnumBatchProcessing.Retry)',
        Success: '@((Byte)EnumBatchProcessing.Success)'
    };

    var IndexBatchDetailsEnumBatchProcessingLabel = {
        Failure: '@(EnumBatchProcessing.Pending.ToString())',
        Initiate: '@(EnumBatchProcessing.Initiate.ToString())',
        Pending: '@(EnumBatchProcessing.Pending.ToString())',
        Processing: '@(EnumBatchProcessing.Processing.ToString())',
        Retry: '@(EnumBatchProcessing.Retry.ToString())',
        Success: '@(EnumBatchProcessing.Success.ToString())'
    };
</script>
<alert></alert>
<div class="wellCustom" ng-controller="BatchDetailsLotController" ng-init='init();'>
    <div ng-if="!blockPage">
        @* Header *@
        <div class="headerCustom">
            <h4> Upload de folhas de resposta em lote  <span></span></h4>
        </div>
        @* Informações *@
        <div class="resumoAdesao">
            <div class="maxWidth">
                <div class="dadosGerais" ng-show="!exibirAnswerSheetBatchFiles">
                    <h2 ng-if="generalBatch">
                        <strong ng-if="testInformation.test.Description">{{testInformation.test.Description}}</strong> {{testInformation.test.FrequencyApplication}} |  {{testInformation.test.Discipline}}
                    </h2>
                    <h2 ng-if="!generalBatch"><strong>Upload</strong></h2>

                    <div class="dadosResumo pesquisa-upload batchInfo" ng-if="batch != null">
                        <div ng-if="generalBatch">
                            <strong ng-if="batch.Description">{{batch.Description}}</strong> | Criado em {{batchInfo.CreateDate}} | {{batchInfo.Total}} arquivo(s)
                        </div>
                        <div class="batchStatus">
                            <div ng-if="generalBatch">

                                <label class="labelLegendaUpload">Fila para correção</label>
                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Pending" class="status-{{EnumBatchProcessingLabel.Pending}} botao">{{EnumBatchSituationDescription.Pending}}</span>

                                <label class="labelLegendaUpload">Total processado</label>

                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Processing" class="status-{{EnumBatchProcessingLabel.Processing}} botao">{{EnumBatchSituationDescription.Processing}}</span>
                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Success" class="status-{{EnumBatchProcessingLabel.Success}} botao">{{EnumBatchSituationDescription.Success}}</span>
                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Failure" class="status-{{EnumBatchProcessingLabel.Failure}} botao">{{EnumBatchSituationDescription.Failure}}</span>
                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Initiate" class="status-{{EnumBatchProcessingLabel.Initiate}} botao">{{EnumBatchSituationDescription.Initiate}}</span>

                                <label class="labelLegendaUpload">Arquivos com erro</label>
                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Errors" class="status-{{EnumBatchProcessingLabel.Errors}} botao">{{EnumBatchSituationDescription.Errors}}</span>

                            </div>
                            <div data-ng-if="generalBatch"
                                 data-template="../Assets/js/Angular/controllers/answerSheet/generalBatch.tpl.html"
                                 data-animation="am-fade"
                                 data-placement="top"
                                 data-container="body"
                                 data-bs-tooltip>

                                <label class="labelLegendaUpload">Fila para correção</label>
                                <span ng-class="{'inactive': batchInfo.Pending == 0, 'active': batchInfo.Pending > 0}" class="help"><i class="material-icons">radio_button_unchecked</i> <label>{{batchInfo.Pending}}</label></span>

                                <label class="labelLegendaUpload">Total processado</label>
                                <span ng-class="{'inactive': batchInfo.Errors == 0, 'active': batchInfo.Errors > 0}" class="erro"><i class="material-icons">cancel</i> <label>{{batchInfo.Errors}}</label></span>
                                <span ng-class="{'inactive': batchInfo.Absents == 0, 'active': batchInfo.Absents > 0}" class="absent"><i class="material-icons">do_not_disturb</i> <label>{{batchInfo.Absents}}</label></span>
                                <span ng-class="{'inactive': batchInfo.Warnings == 0, 'active': batchInfo.Warnings > 0}" class="atencao"><i class="material-icons">check_circle</i> <label>{{batchInfo.Warnings}}</label></span>
                                <span ng-class="{'inactive': batchInfo.Success == 0, 'active': batchInfo.Success > 0}" class="double_check"><i class="material-icons double_check_circle">done_all</i> <label style="color: #14d23f">{{batchInfo.Success}}</label></span>

                                <label class="labelLegendaUpload">Arquivos com erro</label>
                                <span ng-class="{'inactive': batchInfo.NotIdentified == 0, 'active': batchInfo.NotIdentified > 0}" class="erro"><i class="material-icons">block</i> <label>{{batchInfo.NotIdentified}}</label></span>

                            </div>
                            <div data-ng-if="!generalBatch"
                                 data-template="../Assets/js/Angular/controllers/answerSheet/not.generalBatch.tpl.html"
                                 data-animation="am-fade"
                                 data-placement="top"
                                 data-container="body"
                                 data-bs-tooltip>

                                <label class="labelLegendaUpload">Fila para correção</label>
                                <span ng-if="!generalBatch" ng-class="{'inactive': batchInfo.PendingIdentification == 0, 'active': batchInfo.PendingIdentification > 0}" class="help"><i class="material-icons">help_outline</i> <label>{{batchInfo.PendingIdentification}}</label></span>
                                <span ng-class="{'inactive': batchInfo.Pending == 0, 'active': batchInfo.Pending > 0}" class="help"><i class="material-icons">radio_button_unchecked</i> <label>{{batchInfo.Pending}}</label></span>

                                <label class="labelLegendaUpload">Total processado</label>

                                <span ng-class="{'inactive': batchInfo.Errors == 0, 'active': batchInfo.Errors > 0}" class="erro"><i class="material-icons">cancel</i> <label>{{batchInfo.Errors}}</label></span>
                                <span ng-class="{'inactive': batchInfo.Absents == 0, 'active': batchInfo.Absents > 0}" class="absent"><i class="material-icons">do_not_disturb</i> <label>{{batchInfo.Absents}}</label></span>
                                <span ng-class="{'inactive': batchInfo.Warnings == 0, 'active': batchInfo.Warnings > 0}" class="atencao"><i class="material-icons">check_circle</i> <label>{{batchInfo.Warnings}}</label></span>
                                <span ng-class="{'inactive': batchInfo.Success == 0, 'active': batchInfo.Success > 0}" class="double_check"><i class="material-icons double_check_circle">done_all</i> <label style="color: #14d23f">{{batchInfo.Success}}</label></span>

                                <label class="labelLegendaUpload">Arquivos com erro</label>
                                <span ng-if="!generalBatch" ng-class="{'inactive': batchInfo.NotIdentified == 0, 'active': batchInfo.NotIdentified > 0}" class="erro"><i class="material-icons">block</i> <label>{{batchInfo.NotIdentified}}</label></span>
                              
                            </div>
                        </div>
                    </div>
                    <div class="dadosResumo pesquisa-upload">
                        <div>
                            <p ng-if="testInformation.team.Description" style="max-width: 260px;">
                                <i class="material-icons">group</i>
                                <label>{{testInformation.team.Description}}</label>
                            </p>
                            <p ng-if="testInformation.school.Description">
                                <i class="material-icons">school</i>
                                <label>{{testInformation.school.Description}}</label>
                            </p>
                        </div>
                        <div style="text-align: right;" ng-show="!exibirAnswerSheetBatchFiles">
                            <a href="#" onclick="window.history.back();return false;" class="btnCancelar2" ng-if="generalBatch">Voltar</a>
                            <button class="btnPadrao" ng-if="generalBatch&&list.displayed" ng-click="activeModalConfirm();">Iniciar processamento</button>
                            <button class="btnPadrao" ng-click="exportErros();" ng-if="list.displayed">Exportar dados</button>
                            <button ng-if="!generalBatch" class="btnPadrao" ng-click="openModalngGeneralBatch();">Subir arquivos</button>
                        </div>
                        <div style="text-align: right;" ng-show="exibirAnswerSheetBatchFiles">
                            <button class="btnPadrao" ng-click="voltarListagemLotes();">Voltar para listagem de lotes</button>
                        </div>
                    </div>
                </div>
                <div class="dadosGerais" ng-show="exibirAnswerSheetBatchFiles">
                    <h2>
                        <table ng-if="!generalBatch">
                            <tbody>
                                <tr>
                                    <td>
                                        <label style="font-weight:500; font-size:18px;">{{BatchQueueFileComplete.name}}</label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label style="font-weight:500; font-size:16px;">Data de upload:</label> {{BatchQueueFileComplete.dateUpload | moment:"DD/MM/YYYY HH:mm:ss"}}
                                    </td>
                                    <td>
                                        <label style="font-weight:500; font-size:16px;">Data de processamento:</label> {{BatchQueueFileComplete.dateProc | moment:"DD/MM/YYYY HH:mm:ss"}}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label style="font-weight:500; font-size:16px;">DRE:</label> {{BatchQueueFileComplete.dre}}
                                    </td>
                                    <td>
                                        <label style="font-weight:500; font-size:16px;">Escola:</label> {{BatchQueueFileComplete.school}}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label style="font-weight:500; font-size:16px;">Usuário:</label> {{BatchQueueFileComplete.user}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </h2>
                    <div class="dadosResumo pesquisa-upload batchInfo" ng-if="batch != null">
                        <div class="batchStatus">
                            <div ng-if="generalBatch">
                                Situação do lote
                                <table class="left">
                                    <colgroup>
                                        <col width="60%" />
                                        <col width="40%" />
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <td class="right">
                                                <label class="labelLegendaUpload">Na fila para correção:</label>
                                            </td>
                                            <td class="left">
                                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Pending" class="status-{{EnumBatchProcessingLabel.Pending}} botao">{{EnumBatchSituationDescription.Pending}}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="right">
                                                <label class="labelLegendaUpload">Quantidade total de alunos processados:</label>
                                            </td>
                                            <td class="left">
                                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Processing" class="status-{{EnumBatchProcessingLabel.Processing}} botao">{{EnumBatchSituationDescription.Processing}}</span>
                                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Success" class="status-{{EnumBatchProcessingLabel.Success}} botao">{{EnumBatchSituationDescription.Success}}</span>
                                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Failure" class="status-{{EnumBatchProcessingLabel.Failure}} botao">{{EnumBatchSituationDescription.Failure}}</span>
                                                <span ng-if="batch.Processing == EnumBatchProcessingByte.Initiate" class="status-{{EnumBatchProcessingLabel.Initiate}} botao">{{EnumBatchSituationDescription.Initiate}}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="right">
                                                <label class="labelLegendaUpload">Quantidade total de arquivos com erro:</label>
                                            </td>
                                            <td class="left"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div data-ng-if="generalBatch"
                                 data-template="../Assets/js/Angular/controllers/answerSheet/generalBatch.tpl.html"
                                 data-animation="am-fade"
                                 data-placement="top"
                                 data-container="body"
                                 data-bs-tooltip>
								<h3>Situação dos arquivos</h3>
                                <table class="situacao-arquivos">
                                    <colgroup>
                                        <col width="60%" />
                                        <col width="40%" />
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <td class="right">
                                                <label class="labelLegendaUpload">Na fila para correção:</label>
                                            </td>
                                            <td class="left">
                                                <span ng-class="{'inactive': batchInfo.Pending == 0, 'active': batchInfo.Pending > 0}" class="help"><i class="material-icons">radio_button_unchecked</i> <label>{{batchInfo.Pending}}</label></span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="right">
                                                <label class="labelLegendaUpload">Quantidade total de alunos processados:</label>
                                            </td>
                                            <td class="left">
                                                <span ng-class="{'inactive': batchInfo.Errors == 0, 'active': batchInfo.Errors > 0}" class="erro"><i class="material-icons">cancel</i> <label>{{batchInfo.Errors}}</label></span>
                                                <span ng-class="{'inactive': batchInfo.Absents == 0, 'active': batchInfo.Absents > 0}" class="absent"><i class="material-icons">do_not_disturb</i> <label>{{batchInfo.Absents}}</label></span>
                                                <span ng-class="{'inactive': batchInfo.Warnings == 0, 'active': batchInfo.Warnings > 0}" class="atencao"><i class="material-icons">check_circle</i> <label>{{batchInfo.Warnings}}</label></span>
                                                <span ng-class="{'inactive': batchInfo.Success == 0, 'active': batchInfo.Success > 0}" class="double_check"><i class="material-icons double_check_circle">done_all</i> <label style="color: #14d23f">{{batchInfo.Success}}</label></span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="right">
                                                <label class="labelLegendaUpload">Quantidade total de arquivos com erro:</label>
                                            </td>
                                            <td class="left">
                                                <span ng-class="{'inactive': batchInfo.NotIdentified == 0, 'active': batchInfo.NotIdentified > 0}" class="erro"><i class="material-icons">block</i> <label>{{batchInfo.NotIdentified}}</label></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div data-ng-if="!generalBatch"
                                 data-template="../Assets/js/Angular/controllers/answerSheet/not.generalBatch.tpl.html"
                                 data-animation="am-fade"
                                 data-placement="top"
                                 data-container="body"
                                 data-bs-tooltip>
								<h3>Situação dos arquivos</h3>
                                <table class="situacao-arquivos">
                                    <colgroup>
                                        <col width="60%" />
                                        <col width="40%" />
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <td class="right">
                                                <label class="labelLegendaUpload">Na fila para correção:</label>
                                            </td>
                                            <td class="left">
                                                <span ng-if="!generalBatch" ng-class="{'inactive': batchInfo.PendingIdentification == 0, 'active': batchInfo.PendingIdentification > 0}" class="help"><i class="material-icons">help_outline</i> <label>{{batchInfo.PendingIdentification}}</label></span>
                                                <span ng-class="{'inactive': batchInfo.Pending == 0, 'active': batchInfo.Pending > 0}" class="help"><i class="material-icons">radio_button_unchecked</i> <label>{{batchInfo.Pending}}</label></span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="right">
                                                <label class="labelLegendaUpload">Quantidade total de alunos processados:</label>
                                            </td>
                                            <td class="left">
                                                <span ng-class="{'inactive': batchInfo.Errors == 0, 'active': batchInfo.Errors > 0}" class="erro"><i class="material-icons">cancel</i> <label>{{batchInfo.Errors}}</label></span>
                                                <span ng-class="{'inactive': batchInfo.Absents == 0, 'active': batchInfo.Absents > 0}" class="absent"><i class="material-icons">do_not_disturb</i> <label>{{batchInfo.Absents}}</label></span>
                                                <span ng-class="{'inactive': batchInfo.Warnings == 0, 'active': batchInfo.Warnings > 0}" class="atencao"><i class="material-icons">check_circle</i> <label>{{batchInfo.Warnings}}</label></span>
                                                <span ng-class="{'inactive': batchInfo.Success == 0, 'active': batchInfo.Success > 0}" class="double_check"><i class="material-icons double_check_circle">done_all</i> <label style="color: #14d23f">{{batchInfo.Success}}</label></span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="right">
                                                <label class="labelLegendaUpload">Quantidade total de arquivos com erro:</label>
                                            </td>
                                            <td class="left">
                                                <span ng-if="!generalBatch" ng-class="{'inactive': batchInfo.NotIdentified == 0, 'active': batchInfo.NotIdentified > 0}" class="erro"><i class="material-icons">block</i> <label>{{batchInfo.NotIdentified}}</label></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="dadosResumo pesquisa-upload">
                        <div style="text-align: right;">
                            <button class="btnPadrao" ng-click="voltarListagemLotes();">Voltar para listagem de lotes</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        @* Gatilho filtros laterais *@
        <div class="pesquisa-codigo" ng-show="lookUpload">
            <div class="filtrar-lista filter-bar">
                <a href="javascript:void(0)" data-ng-click="open();" data-side-filters>
                    <i class="material-icons" data-side-filters>filter_list</i>
                    <label data-side-filters>Filtrar arquivos</label>
                    <div class="notificationFilter"
                         data-trigger="hover"
                         data-type="success"
                         data-title="Filtros selecionados"
                         data-placement="top"
                         data-container="body"
                         data-bs-tooltip>
                        {{countFilter}}
                    </div>
                </a>
            </div>
        </div>

        <div class="mensagemUploadLot" ng-show="!exibirAnswerSheetBatchFiles && pagerUploadQueue.list && filters.topFiltro == 10">Os últimos {{pagerUploadQueue.totalItens}} arquivos enviados. (Filtre para ver mais arquivos.)</div>

        @* Filtros *@
        <div ng-show="lookUpload" class="panel-search side-filters" data-side-filters>
            <a href="javascript:void(0)" data-ng-click="open();" class="filtro-menu">
                <i class="material-icons">filter_list</i>
                <label class="filtroP">Filtrar arquivos</label>
                <i class="material-icons fecha">arrow_forward</i>
            </a>
            <div>
                <div class="col-seach" data-side-filters>
                    <div data-side-filters>
                        <label data-side-filters>DREs</label>
                        <select class="form-control"
                                ng-change="getSchools();clearByFilter('DRE');countFiltersSelected();"
                                ng-model="filters.DRE.value"
                                ng-options="dre as dre.Description for dre in listFilter.DREs"
                                ng-title="listFilter.DREs"
                                ng-title-propertie="Description"
                                ng-title-index="1"
                                ng-title-selected
                                data-side-filters>
                            <option value="">Todas as DREs</option>
                        </select>
                    </div>
                </div>
                <div class="col-seach" data-side-filters>
                    <div data-side-filters>
                        <label data-side-filters>Escolas</label>
                        <select class="form-control"
                                ng-change="countFiltersSelected(); clearByFilter('School');"
                                ng-model="filters.School.value"
                                ng-options="scholl as scholl.Description for scholl in listFilter.Schools"
                                ng-title="listFilter.Schools"
                                ng-title-propertie="Description"
                                ng-title-index="1"
                                ng-title-selected
                                data-side-filters>
                            <option value="">Todas as escolas</option>
                        </select>
                    </div>
                </div>
                <div class="col-seach" data-side-filters>
                    <div data-side-filters>
                        <label data-side-filters>Situação do lote</label>
                        <select class="form-control"
                                ng-change="countFiltersSelected();"
                                ng-model="filters.SituationLot.value"
                                ng-options="situationLot as situationLot.Description for situationLot in listFilter.SituationLot"
                                ng-title="listFilter.SituationLot"
                                ng-title-propertie="Description"
                                ng-title-index="1"
                                ng-title-selected
                                data-side-filters>
                            <option value="">Todas as situações</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-seach" data-side-filters style="margin-bottom: -20px;">
                <div data-side-filters>
                    <label data-side-filters>Situação</label>
                    <div data-side-filters>
                        <div data-side-filters class="checkbox checkbox-primary lista-item" ng-repeat="processing in listFilter.Processing | orderBy: 'order'" style="display: flex;" ng-if="showHideSituation(processing, false)" ng-hide="generalBatch  && processing.Id == 7">
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Error" class='help icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>help_outline</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.NotIdentified" class='erro icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>block</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Pending" class='help icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>radio_button_unchecked</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.PendingIdentification" class='erro icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>cancel</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Success" class='atencao icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>check_circle</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Warning" class='double_check_tooltip icons-filter-situation' style="background:#fff !important;" data-side-filters><i style="color:#5A94D6; font-size: 18px; padding-left: 2px;" class='material-icons' data-side-filters>done_all</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Absent" class='double_check_tooltip icons-filter-situation' data-side-filters><i data-side-filters>do_not_disturb</i></span>
                            <input data-side-filters id="p{{processing.Description}}" class="col-xs-1" type="checkbox" ng-model="processing.state" value="" ng-click="setFilterProcessing(processing);" />
                            <label data-side-filters for="p{{processing.Description}}" class="col-xs-8 lista-item margin-left" style="width: 180px;">
                                {{ (processing.Id == EnumBatchSituationByte.Warning ? (!WARNING_UPLOAD_BATCH_DETAIL ? processing.Description : 'Sucesso') : processing.Description) }}
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-seach" data-side-filters>
                <label data-side-filters>Período</label>
                <div data-side-filters class="radio radio-primary">
                    <input data-side-filters id="FilterDateUpdate1" name="FilterDateUpdate" ng-value="false" class="col-xs-1" type="radio" ng-model="filters.FilterDateUpdate.value" />
                    <label data-side-filters for="FilterDateUpdate1" class="col-xs-8" style="width: 180px; margin-left:42px;">Data de upload</label>
                </div>
                <div data-side-filters class="radio radio-primary">
                    <input data-side-filters id="FilterDateUpdate2" name="FilterDateUpdate" ng-value="true" class="col-xs-1" type="radio" ng-model="filters.FilterDateUpdate.value" />
                    <label data-side-filters for="FilterDateUpdate2" class="col-xs-8" style="width: 180px; margin-left:42px;">Data de correção</label>
                </div>
                <br data-side-filters />
                <div class="calendario-grafico" data-side-filters>
                    <label data-side-filters>de</label>
                    <button type="button" ng-click="datepicker('StartDate')" data-side-filters>
                        <i class="material-icons">event</i>
                    </button>
                    <input class="dateInput" type="text" placeholder="Início" ng-change="periodSelected();countFiltersSelected();" ng-model="filters.StartDate.value" id="StartDate" datepicker />
                </div>
                <div class="calendario-grafico" data-side-filters>
                    <label data-side-filters>até </label>
                    <button type="button" ng-click="datepicker('EndDate')" data-side-filters>
                        <i class="material-icons">event</i>
                    </button>
                    <input class="dateInput" type="text" placeholder="Término" ng-change="periodSelected();countFiltersSelected();" ng-model="filters.EndDate.value" id="EndDate" datepicker />
                </div>
            </div>
            <div class="col-seach" data-side-filters>
                <div data-side-filters>
                    <label data-side-filters>Situação</label>
                    <div data-side-filters>
                        <div data-side-filters data-title="Selecione uma situação" data-template="../Assets/js/Angular/controllers/answerSheet/customTooltip.html" data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip="" ng-if="checkDateSelected()" style="width: 250px; height: 125px; position: absolute; z-index:9"></div>
                        <div data-side-filters class="checkbox checkbox-primary lista-item" ng-repeat="processing in listFilter.Processing | orderBy: 'order'" style="display: flex;" ng-if="showHideSituation(processing, true)">
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Error" class='help icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>help_outline</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.NotIdentified" class='erro icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>block</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Pending" class='help icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>radio_button_unchecked</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.PendingIdentification" class='erro icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>cancel</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Absent" class='absent icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>do_not_disturb</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Warning" class='atencao icons-filter-situation' data-side-filters><i class='material-icons' data-side-filters>check_circle</i></span>
                            <span data-ng-if="processing.Id == EnumBatchSituationByte.Success" class='double_check_tooltip icons-filter-situation' style="background:#fff !important;" data-side-filters><i style="color:#5A94D6 ; font-size: 18px; padding-left: 2px;" class='material-icons' data-side-filters>done_all</i></span>
                            <input data-side-filters id="p{{processing.Description}}" class="col-xs-1" type="checkbox" ng-model="processing.state" value="" ng-click="setFilterProcessing(processing);" ng-disabled="checkDateSelected()" />
                            <label data-side-filters for="p{{processing.Description}}" class="col-xs-8 lista-item margin-left" style="width: 180px;">
                                {{ (processing.Id == EnumBatchSituationByte.Warning ? (!WARNING_UPLOAD_BATCH_DETAIL ? processing.Description : 'Sucesso') : processing.Description) }}
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-seach" data-side-filters>
                <div data-side-filters>
                    <button class="btnCancelar pull-right" ng-click="clearFilters();">Limpar</button>
                    <button class="btnCancelar pull-right" ng-click="setPagination(true);">Filtrar</button>
                </div>
            </div>
        </div>
        <div ng-if="(countFilter > 0)" class="maxWidth" style="min-height:40px; margin: 0 auto 10px auto; position: relative; overflow: auto;">
            <div ng-repeat="($index, filter) in filters" ng-if="(filter && filter.state && filter.label != 'DataCorrecao')">
                <h4 style="display: inline; float: left; font-style: italic; font-weight: normal; color: gray;" ng-if="(($index == 0 && exibirAnswerSheetBatchFiles) || ($index == 1 && !exibirAnswerSheetBatchFiles))">Filtros ativos: </h4>
                <div class="keyword" ng-if="printFilter(filter.label) != ''">
                    <p style="display: inline;">{{printFilter(filter.label)}} </p>
                    <a class="removeKeyword" ng-click="removeFilter(filter.label)">x</a>
                </div>
            </div>
            <div ng-repeat="($index, filter) in processingFilter" ng-if="(filter.Id && filter.state && exibirAnswerSheetBatchFiles)">
                <div class="keyword">
                    <p style="display: inline;">{{printProcessingFilter(filter.Id)}} </p>
                    <a class="removeKeyword" ng-click="removeProcessingFilter($index)">x</a>
                </div>
            </div>
        </div>

        <div class="cards maxWidth" ng-show="!exibirAnswerSheetBatchFiles">
            <div class="">
                <div class="container-fluid com-filtro">
                    <div class="table-responsive">
                        <table class="table table-hover tableCorrecao" ng-if="pagerUploadQueue.list" style="margin-top: 0px; overflow-x:auto">
                            <colgroup>
                                <col width="5%" />
                                <col width="10%" />
                                <col width="25%" />
                                <col width="20%" />
                                <col width="8%" />
                                <col width="27%" />
                                <col width="5%" />
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Arquivo</th>
                                    <th>DRE</th>
                                    <th>Escola</th>
                                    <th class="text-center">Total de Arquivos</th>
                                    <th class="text-center">Situação</th>
                                    <th class="text-center">Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-ng-repeat-start="($indexBatch, batch) in pagerUploadQueue.list track by $indexBatch">
                                    <td class="text-center">{{batch.Id}}</td>
                                    <td data-title="{{batch.FileName}}" data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip><a ng-click="downloadFileById(batch.File_Id)">{{batch.FileName | minimize:10}}</a></td>
                                    <td class="dre-overflow">
                                        <span data-ng-if="!batch.SupAdmUnitName">-</span>
                                        <span data-ng-if="batch.SupAdmUnitName" data-title="{{batch.SupAdmUnitName}}" data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip> {{batch.SupAdmUnitName}} </span>
                                    </td>
                                    <td>
                                        <span data-ng-if="!batch.SchoolName">-</span>
                                        <span data-ng-if="batch.SchoolName" data-title="{{batch.SchoolName}}" data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip>{{batch.SchoolName}}</span>
                                    </td>
                                    <td class="text-center">
                                        {{batch.CountFiles==null?'-':batch.CountFiles}}
                                    </td>
                                    <td>
                                        <div style="height:34px;" class="status-{{EnumBatchSituationLabel.Pending}}Identification botao" data-ng-if="batch.Situation==EnumUploadQueueStatus.PendingUnzip">
                                            @EnumBatchQueueSituation.PendingUnzip.GetDescription()
                                            <a ng-click="downloadFileById(batch.File_Id)"><i class="material-icons">file_download</i></a>
                                        </div>
                                        <div class="icones-situacao" data-ng-if="batch.Situation==EnumUploadQueueStatus.Success">
                                            <span ng-class="{'inactive': batch.PendingIdentification == 0, 'active': batch.PendingIdentification > 0}" class="help"><i class="material-icons">help_outline</i> <label>{{batch.PendingIdentification}}</label></span>
                                            <span ng-class="{'inactive': batch.Pending == 0, 'active': batch.Pending > 0}" class="help"><i class="material-icons">radio_button_unchecked</i> <label>{{batch.Pending}}</label></span>
                                            <span ng-class="{'inactive': batch.Error == 0, 'active': batch.Error > 0}" class="erro"><i class="material-icons">cancel</i> <label>{{batch.Error}}</label></span>
                                            <span ng-class="{'inactive': batch.Absent == 0, 'active': batch.Absent > 0}" class="absent"><i class="material-icons">do_not_disturb</i> <label>{{batch.Absent}}</label></span>
                                            <span ng-class="{'inactive': batch.Warning == 0, 'active': batch.Warning > 0}" class="atencao"><i class="material-icons">check_circle</i> <label>{{batch.Warning}}</label></span>
                                            <span ng-class="{'inactive': batch.Success == 0, 'active': batch.Success > 0}" class="double_check"><i class="material-icons double_check_circle">done_all</i> <label style="color: #14d23f">{{batch.Success}}</label></span>
                                            <span ng-class="{'inactive': batch.NotIdentified == 0, 'active': batch.NotIdentified > 0}" class="erro"><i class="material-icons">block</i> <label>{{batch.NotIdentified}}</label></span>
                                        </div>
                                        <div class="status-{{EnumBatchSituationLabel.Error}} botao" data-ng-if="batch.Situation==EnumUploadQueueStatus.NotUnziped">
                                            @EnumBatchQueueSituation.NotUnziped.GetDescription()
                                            <a ng-click="downloadFileById(batch.File_Id)"><i class="material-icons">file_download</i></a>
                                            <a href="" data-toggle="collapse" data-target="#batch_{{batch.File_Id}}">
                                                <i class="material-icons status-{{EnumBatchSituationLabel.Error}} botao">search</i>
                                            </a>
                                        </div>
                                        <div style="height:34px;" class="status-{{EnumBatchSituationLabel.Pending}} botao" data-ng-if="batch.Situation==EnumUploadQueueStatus.Processing">
                                            @EnumBatchQueueSituation.Processing.GetDescription()
                                            <a ng-click="downloadFileById(batch.File_Id)"><i class="material-icons">file_download</i></a>
                                        </div>
                                    </td>
                                    <td ng-click="collapse($index)" class="text-center">
                                        <a class="material-icons" ng-show="!batch.expanded" ng-click="batch.expanded = true">expand_more</a>
                                        <a class="material-icons" ng-show="batch.expanded" ng-click="batch.expanded = false; expandir = false;">expand_less</a>
                                    </td>
                                </tr>
                                <tr ng-if="batch.expanded" class="accordion-filtros">
                                    <td colspan="10">
                                        <table>
                                            <tr>
                                                <td>
                                                    Upload: {{batch.CreateDate | moment:"DD/MM/YYYY HH:mm:ss"}}
                                                </td>
                                                <td>
                                                    Descompactação: {{batch.UpdateDate | moment:"DD/MM/YYYY HH:mm:ss"}}
                                                </td>
                                                <td>
                                                    Usuário: {{batch.UserName}}
                                                </td>
                                                <td>
                                                    <a ng-disabled="(batch.CountFiles==null)" ng-click="showFiles(batch.Id, batch.FileName, batch.SupAdmUnitName, batch.SchoolName, batch.CreateDate, batch.UpdateDate, batch.UserName)"><i class="material-icons">remove_red_eye</i> Ver arquivos</a>
                                                </td>
                                                <td>
                                                    <a ng-click="callModalError(batch)"><i class="material-icons">delete</i> Deletar erros</a>
                                                </td>
                                                <td>
                                                    <a ng-click="callModal(batch)"><i class="material-icons">delete</i> Deletar zip</a>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr data-ng-repeat-end="" class="collapse" id="batch_{{batch.File_Id}}">
                                    <td colspan="10" class="status-{{EnumBatchSituationLabel.Error}} botao">{{batch.Description}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    @* Pagination controll *@
                    <div class="nresultados">
                        <page method="getUploadQueueStatus()" pager="pagerUploadQueue.paginate" total-pages="{{pagerUploadQueue.pages}}" total-itens="{{pagerUploadQueue.totalItens}}" page-size="pagerUploadQueue.pageSize" data-arr-page-size="[10,20,30,40,50,100]"></page>
                    </div>
                    @* Results not found *@
                    <p class="nresultados" ng-if="pagerUploadQueue.list === null || (pagerUploadQueue.message)">Nenhum resultado encontrado.</p>
                    <br />
                </div>
            </div>
        </div>
        @* Paginação *@
        <div class="cards maxWidth table-responsive" ng-show="exibirAnswerSheetBatchFiles">
            <div class="col-md-8" ng-if="(identificationLook!=0 || batch.OwnerEntity == @((Byte)EnumAnswerSheetBatchOwner.Section)) && !STUDENT_NUMBER_ID && generalBatch">
                <label>Identificação da folha de resposta por QRCode</label>
            </div>
            <div class="col-md-8" ng-if="false">
                <button type="button" ng-click="getBatchGeneral()" class="btn btn-primary">Subir lote geral</button>
                <button type="button" ng-click="openModalShool()" class="btn btn-primary">Subir lote por escola</button>
            </div>

            <div class="col-md-8" ng-if="(identificationLook!=0 || batch.OwnerEntity == @((Byte)EnumAnswerSheetBatchOwner.Section)) && STUDENT_NUMBER_ID && generalBatch">
                <label>Tipo de identificação:</label>
                <div class="radio radio-primary" style="display: inline; margin-left: 25px;">
                    <input name="NumberID" id="NumberID" type="radio" ng-value="@((Byte)EnumAnswerSheetBatchType.NumberID)" ng-model="identificationType" ng-disabled="identificationTypeLook || blockProcessing==true" ng-click="setIdentificationTypeValue(identificationType)">
                    <label for="NumberID">Número de chamada</label>
                </div>
                <div class="radio radio-primary" style="display: inline; margin-left: 25px;">
                    <input name="QRCode" id="QRCode" type="radio" ng-value="@((Byte)EnumAnswerSheetBatchType.QRCode)" ng-model="identificationType" ng-disabled="identificationTypeLook || blockProcessing==true" ng-click="setIdentificationTypeValue(identificationType)">
                    <label for="QRCode">QRCode</label>
                </div>
            </div>
            <form class="form-inline telaImagem" role="form" ng-if="generalBatch">
                <div class="uploadImage">
                    <div data-upload="" data-type="@(EnumFileType.AnswerSheetBatch)" data-url="/File/UploadFile"
                         data-trash="true" data-placeholder="um arquivo" data-callback="fileUploadSuccess" data-component="modelFile" data-listextensions="listextensions"></div>
                </div>
            </form>
            <div class="container-fluid">
                <form class="row-fluid">
                    <div class="col-md-8 form-inline-page">
                        <input class="form-pesquisa" ng-model="searchFieldNomeAluno" type="text" placeholder="Nome do aluno">
                        <input class="form-pesquisa" ng-model="searchFieldTurma" type="text" placeholder="Código da turma">
                        <button class="btn-pesquisar" ng-click="filtra(searchFieldNomeAluno, searchFieldTurma)"><i class="material-icons">search</i></button>
                    </div>
                </form>
            </div>
            <table class="table table-hover tableCorrecao" ng-if="list.displayed" style="margin-top: 30px;">
                <colgroup>
                    <col width="20%" />
                    <col width="5%" />
                    <col width="20%" />
                    <col width="10%" />
                    <col width="5%" />
                    <col ng-if="!generalBatch" width="10%" />
                    <col width="8%" />
                    <col width="22%" />
                </colgroup>
                <thead>
                    <tr>
                        <th>Aluno</th>
                        <th class="text-center">Turma</th>
                        <th>DRE / Escola</th>
                        <th>Arquivo</th>
                        <th class="text-center">Resolução</th>
                        <th class="text-center" ng-if="!generalBatch">Prova</th>
                        <th class="text-center">
                            <span data-ng-if="!filtredDateUpdate">Data de upload</span>
                            <span data-ng-if="filtredDateUpdate">Data de correção</span>
                        </th>
                        <th class="text-center">Situação</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="($indexArquivo, arquivo) in list.displayed track by $indexArquivo">
                        <td style="width: inherit;">
                            <span data-title="{{arquivo.Student.Description}}"
                                  data-animation="am-fade"
                                  data-placement="top"
                                  data-container="body"
                                  bs-tooltip>
                                {{arquivo.Student.Description != null ? arquivo.Student.Description : ' - '}}
                            </span>
                        </td>
                        <td class="text-center">
                            <a ng-if="arquivo.Team.Description != null" ng-click="openStudentsResponses(arquivo.DRE.Test_Id, arquivo.Team.Id);">
                                {{arquivo.Team.Description != null ? (arquivo.Team.Description) : ' - '}}
                            </a>
                        </td>
                        <td style="width: inherit;">
                            <span data-title="{{arquivo.School.Description}}"
                                  data-animation="am-fade"
                                  data-placement="top"
                                  data-container="body"
                                  bs-tooltip>
                                {{arquivo.DRE.Sigla != null ? arquivo.DRE.Sigla + ' - ' : ''}}{{arquivo.School.Description != null ? (arquivo.School.Description | minimize: 20) : ' - '}}
                            </span>
                        </td>
                        <td style="width: inherit;">
                            <a ng-if="!baixarGabarito" href="{{arquivo.FilePath}}" target="_blank"
                               data-title="{{arquivo.File.Description}}"
                               data-animation="am-fade"
                               data-placement="top"
                               data-container="body"
                               bs-tooltip>
                                {{arquivo.File.Description != null ? (arquivo.File.Description | minimize: 20) : ' - '}}
                            </a>
                            <span ng-if="baixarGabarito"
                                  data-title="{{arquivo.File.Description}}"
                                  data-animation="am-fade"
                                  data-placement="top"
                                  data-container="body"
                                  bs-tooltip>
                                {{arquivo.File.Description != null ? (arquivo.File.Description | minimize: 20) : ' - '}}
                            </span>
                        </td>
                        <td class="text-center" style="width: inherit;">
                            <span data-title="{{arquivo.File.Resolution}}"
                                  data-animation="am-fade"
                                  data-placement="top"
                                  data-container="body"
                                  bs-tooltip>
                                {{arquivo.File.Resolution != null ? (arquivo.File.Resolution | minimize: 9): ' - '}}
                            </span>
                        </td>
                        <td ng-if="!generalBatch" class="text-center" style="width: inherit;">
                            <span>{{arquivo.DRE.Test_Id ? arquivo.DRE.Test_Id : ' - '}}</span>
                        </td>
                        <td class="center">
                            <span data-ng-if="!filtredDateUpdate">{{arquivo.CreateDate }}</span>
                            <span data-ng-if="filtredDateUpdate">{{arquivo.UpdateDate }}</span>
                        </td>
                        <td class="center">
                            @* Status processamento  *@
                            <div ng-if="arquivo.Situation == EnumBatchSituationByte.Pending" class="status-{{EnumBatchSituationLabel.Pending}} botao">
                                {{EnumBatchSituationDescription.Pending}}
                                <a ng-if="!baixarGabarito" href="javascript:void(0);" ng-click="downloadFileById(arquivo.File.Id)" data-title="Baixar arquivo"
                                   data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip><i class="material-icons">file_download</i></a>
                            </div>
                            <div ng-if="arquivo.Situation == EnumBatchSituationByte.Success" class="status-{{EnumBatchSituationLabel.Success}} botao">
                                {{EnumBatchSituationDescription.Success}}
                                <a ng-if="!baixarGabarito" href="javascript:void(0);" ng-click="downloadFileById(arquivo.File.Id)" data-title="Baixar arquivo"
                                   data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip><i class="material-icons">file_download</i></a>
                            </div>
                            <div ng-if="arquivo.Situation == EnumBatchSituationByte.Error" class="status-{{EnumBatchSituationLabel.Error}} botao">
                                {{EnumBatchSituationDescription.Error}}
                                <a ng-if="!baixarGabarito" href="javascript:void(0);" ng-click="downloadFileById(arquivo.File.Id)" data-title="Baixar arquivo"
                                   data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip><i class="material-icons">file_download</i></a>
                                <a ng-click="callModalDeleteFileError(arquivo)"><i class="material-icons" data-title="Deletar arquivo">delete</i></a>
                            </div>
                            <div ng-if="arquivo.Situation == EnumBatchSituationByte.Warning" class="status-{{EnumBatchSituationLabel.Warning}} botao">
                                {{ (!WARNING_UPLOAD_BATCH_DETAIL ? EnumBatchSituationDescription.Warning : 'Sucesso') }}
                                <a ng-if="!baixarGabarito" href="javascript:void(0);" ng-click="downloadFileById(arquivo.File.Id)" data-title="Baixar arquivo"
                                   data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip><i class="material-icons">file_download</i></a>
                            </div>
                            <div ng-if="arquivo.Situation == EnumBatchSituationByte.Absent" class="status-{{EnumBatchSituationLabel.Absent}} botao">
                                {{EnumBatchSituationDescription.Absent}}
                                <a ng-if="!baixarGabarito" href="javascript:void(0);" ng-click="downloadFileById(arquivo.File.Id)" data-title="Baixar arquivo"
                                   data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip><i class="material-icons">file_download</i></a>
                            </div>
                            <div ng-if="arquivo.Situation == EnumBatchSituationByte.PendingIdentification" class="status-{{EnumBatchSituationLabel.PendingIdentification}} botao">
                                {{EnumBatchSituationDescription.PendingIdentification}}
                                <a ng-if="!baixarGabarito" href="javascript:void(0);" ng-click="downloadFileById(arquivo.File.Id)" data-title="Baixar arquivo"
                                   data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip><i class="material-icons">file_download</i></a>
                            </div>
                            <div ng-if="arquivo.Situation == EnumBatchSituationByte.NotIdentified" class="status-{{EnumBatchSituationLabel.NotIdentified}} botao">
                                {{EnumBatchSituationDescription.NotIdentified}}
                                <a ng-if="!baixarGabarito" href="javascript:void(0);" ng-click="downloadFileById(arquivo.File.Id)" data-title="Baixar arquivo"
                                   data-animation="am-fade" data-placement="top" data-container="body" bs-tooltip><i class="material-icons">file_download</i></a>
                                <a ng-click="callModalDeleteFileError(arquivo)"><i class="material-icons" data-title="Deletar arquivo">delete</i></a>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            @* Pagination controll *@
            <div class="nresultados">
                <page method="search()" pager="paginate" total-pages="{{pages}}" total-itens="{{totalItens}}" page-size="pageSize" data-arr-page-size="[10,20,30,40,50,100]"></page>
            </div>
            @* Results not found *@
            <p class="nresultados" ng-show="list.displayed === null || (message)">Nenhum resultado encontrado.</p>
        </div>
        @* confirmar sair *@
        <modal id="cancelModal" modal-title="<p>Deseja realmente sair?</p>">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12 text-right">
                        <button type="button" class="btnPadrao" ng-click="cancel();">Sim</button>
                        <button type="button" class="btnCancelar2" data-dismiss="modal">Não</button>
                    </div>
                </div>
            </div>
        </modal>
        @* confirmar inicio do processamento  *@
        <modal id="initModal" modal-title="<p>Ao iniciar processamento o upload de folha(s) de resposta(s) ficará suspenso até que o processamento seja finalizado.<br>Deseja continuar?</p>">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12 text-right">
                        <button type="button" class="btnPadrao" ng-click="sendToProcess();">Sim</button>
                        <button type="button" class="btnCancelar2" data-dismiss="modal">Não</button>
                    </div>
                </div>
            </div>
        </modal>
        @* Cadastrar Lote *@
        <modal id="modalLote" modal-title="<p>Escolha as unidades que deseja gerar os lotes:</p>">
            <div class="container-fluid">
                <div class="campoLabel">
                    <label>DREs{{listFilters}}</label>
                    <select class="form-control"
                            ng-change="getSchools();"
                            ng-model="filters.DRE"
                            ng-options="dre as dre.Description for dre in listFilter.DREs"
                            ng-title="listFilter.DREs"
                            ng-title-propertie="Description"
                            ng-title-index="1"
                            ng-title-selected>
                        <option value="">Todas as DREs</option>
                    </select>
                </div>
                <div class="campoLabel">
                    <label>Escolas</label>
                    <select class="form-control"
                            ng-model="filters.School"
                            ng-options="scholl as scholl.Description for scholl in listFilter.Schools"
                            ng-title="listFilter.Schools"
                            ng-title-propertie="Description"
                            ng-title-index="1"
                            ng-title-selected>
                        <option value="">Todas as escolas</option>
                    </select>
                </div>
                <div class="campoLabel">
                    <div class="col-sm-12 text-right">
                        <button type="button" class="btnPadrao" ng-click="getBatchSchool();">ok</button>
                        <button type="button" class="btnCancelar2" data-dismiss="modal">Cancelar</button>
                    </div>
                </div>
            </div>
        </modal>
        @* Upload Lote*@
        <modal id="modalGeneralBatch" class="listagem-modal" modal-title="<strong>Subir arquivos</strong>">
            <div class="container-fluid">
                <div class="row campoLabel">
                    <div class="col-md-6">
                        <span>Escolha a unidade que deseja subir os arquivos:</span>
                    </div>
                </div>
                <div class="campoLabel">
                    <label>DRE*:</label>
                    <select class="form-control"
                            ng-change="getSchoolsNotTestId(); blockUpload();"
                            data-ng-disabled="uploading"
                            ng-model="filtersUpload.DRE"
                            ng-options="dre as dre.Description for dre in listFilterUpload.DREs"
                            ng-title="listFilterUpload.DREs"
                            ng-title-propertie="Description"
                            ng-title-index="1"
                            ng-title-selected>
                        <option value="">Selecione uma DRE</option>
                    </select>
                </div>
                <div class="campoLabel">
                    <label>Escola*:</label>
                    <select class="form-control"
                            ng-change="blockUpload();"
                            data-ng-disabled="uploading"
                            ng-model="filtersUpload.School"
                            ng-options="scholl as scholl.Description for scholl in listFilterUpload.Schools"
                            ng-title="listFilterUpload.Schools"
                            ng-title-propertie="Description"
                            ng-title-index="1"
                            ng-title-selected>
                        <option value="">Selecione uma escola</option>
                    </select>
                </div>
                <div class="row">
                    <form class="form-inline telaImagem" role="form">
                        <div class="uploadImage">
                            <div ng-click="alertUpload()" ng-if="!blockUploadLook" style="width: 100%; height: 50px;  z-index: 999; position: absolute;"></div>
                            <div data-upload="" data-uploading-status-callback="uploadingState" customclass="" label-name="true" data-type="@(EnumFileType.AnswerSheetBatch)" data-url="/File/UploadFile"
                                 data-trash="true" data-placeholder="um arquivo" data-callback="fileUploadSuccess" data-component="modelFile" data-listextensions="listextensions"></div>
                        </div>
                    </form>
                </div>
            </div>
        </modal>
    </div>

    @*Modal*@
    <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">{{ itemDeletado.FileName }}</h4>
                </div>
                <div class="modal-body">
                    <span>Você tem certeza que deseja excluir o arquivo <b>{{itemDeletado.FileName}}</b>? </span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnPadrao" ng-click="deleteZip()">Excluir</button>
                    <button type="button" class="btnCancelar2" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
    @*fim modal*@

    @*Modal*@
    <div class="modal fade" id="modalErro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">{{ itemDeletadoErros.Description }}</h4>
                </div>
                <div class="modal-body">
                    <span>Você tem certeza que deseja excluir arquivos com erros do arquivo zip <b>{{itemDeletadoErros.Description}}</b>? </span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnPadrao" ng-click="deleteError()">Excluir</button>
                    <button type="button" class="btnCancelar2" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
    @*fim modal*@

    @*Modal*@
    <div class="modal fade" id="modalDeleteErro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">{{ itemDeletado.Description }}</h4>
                </div>
                <div class="modal-body">
                    <span>Você tem certeza que deseja excluir o arquivo? </span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnPadrao" ng-click="deleteFileById()">Excluir</button>
                    <button type="button" class="btnCancelar2" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
    @*fim modal*@
</div>
